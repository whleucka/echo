<div class="card {% if check.status == 'ok' %}border-success{% elseif check.status == 'warning' %}border-warning{% else %}border-danger{% endif %}">
  <div class="card-body">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h5 class="mb-0">
        {% set icon_class = check.status == 'ok' ? 'text-success' : (check.status == 'warning' ? 'text-warning' : 'text-danger') %}
        {% set check_icon = check.status == 'ok' ? 'check-circle-fill' : (check.status == 'warning' ? 'exclamation-triangle-fill' : 'x-circle-fill') %}
        <i class="bi bi-{{ check_icon }} {{ icon_class }} me-2"></i>
        {{ name|replace({'_': ' '})|title }}
      </h5>
      <span class="badge {% if check.status == 'ok' %}bg-success{% elseif check.status == 'warning' %}bg-warning text-dark{% else %}bg-danger{% endif %} fs-6">
        {{ check.status|upper }}
      </span>
    </div>

    <p class="mb-2">{{ check.message }}</p>

    {% if check.percent is defined %}
    <div class="progress mb-3" style="height: 10px;">
      {% set bar_class = check.status == 'ok' ? 'bg-success' : (check.status == 'warning' ? 'bg-warning' : 'bg-danger') %}
      <div class="progress-bar {{ bar_class }}" role="progressbar" style="width: {{ check.percent }}%">
        {{ check.percent }}%
      </div>
    </div>
    {% endif %}

    {% if check.duration_ms is defined %}
    <small class="text-muted">Check completed in {{ check.duration_ms }}ms</small>
    {% endif %}
  </div>
</div>
