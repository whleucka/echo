[opcache]
; Enable OPcache
opcache.enable=1
opcache.enable_cli=0

; Memory: 256MB for compiled scripts, 16MB for interned strings
opcache.memory_consumption=256
opcache.interned_strings_buffer=16

; Allow caching up to 20,000 files (prime number bucket size internally)
opcache.max_accelerated_files=20000

; Production: don't check file timestamps (restart FPM to pick up changes)
; Override in local.ini for development
opcache.validate_timestamps=0
opcache.revalidate_freq=0

; Optimize file_exists/is_file calls via cache
opcache.enable_file_override=1

; Don't save comments (saves memory; set to 1 if using annotations at runtime)
opcache.save_comments=1

; JIT: tracing mode with 64MB buffer
opcache.jit=tracing
opcache.jit_buffer_size=64M
